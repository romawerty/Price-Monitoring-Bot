# Price Monitoring Bot

## Описание проекта
Telegram бот для мониторинга цен товаров на Wildberries с автоматическим оповещением о достижении целевой цены.

**Примечание**: В данном репозитории представлена урезанная версия бота. Полная версия является рабочей и активно используется для ежедневного мониторинга цен.

## Основные функции

### Мониторинг цен
- Автоматический парсинг цен товаров с Wildberries
- Многопоточная проверка нескольких ссылок одновременно
- Учет скидки WB кошелька (автоматическое применение коэффициента 0.93)

### Умные уведомления
- Отправка уведомлений в Telegram при достижении целевой цены
- Автоматическое обновление порога уведомлений при нахождении более низкой цены
- Поддержка множества пользователей

### Гибкое управление
- Динамическое добавление/удаление товаров и ссылок
- Изменение минимальных цен для уведомлений
- Переименование товаров
- Автоматическое обновление команд бота

## Техническая реализация

### Используемые технологии
- **Python 3.9**
- **Selenium** - парсинг цен с Wildberries
- **Telegram Bot API** - взаимодействие с пользователями через Telegram
- **Requests** - HTTP запросы к Telegram API
- **Threading** - многопоточная обработка

### Архитектура
- **Основной поток**: Управление ботом и координация работы
- **Сетевой поток**: Обработка команд Telegram с автоматическим восстановлением
- **Парсинг поток**: Многопоточный мониторинг цен

### Основные команды
- **/start** - Запустить бота и показать текущие настройки
- **/current_settings** - Показать текущие настройки и лучшие цены
- **/add_product** - Добавить новый товар для отслеживания
- **/add_url** - Добавить ссылку к существующему товару
- **/remove_url** - Удалить ссылку у товара
- **/remove_product** - Удалить товар из отслеживания
- **/rename_product** - Изменить название товара

### Примеры команд, добавляющихся к конкретным товарам:
- **/set_ps5_blu_ray_slim_min** - Изменить минимальную цену для PS5
- **/set_macbook_air_13_min** - Изменить минимальную цену для MacBook Air
... и т.д.


## Установка и запуск

### Предварительные требования
```bash
pip install selenium requests webdriver-manager
```

### Настройка
1. Создайте бота в Telegram через @BotFather
2. Замените TELEGRAM_BOT_TOKEN на ваш токен
3. Настройте список товаров и ссылок в переменной urls

### Запуск
```bash
python bot.py
```

*Полная версия бота успешно работает и ежедневно используется. Выгруженный в GitHub код не работает умышленно.*

